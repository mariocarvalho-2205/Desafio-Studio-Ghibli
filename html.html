import React from 'react';

export default function MovieCard({ movie }) {
  return (
    <div className="rounded-lg border bg-card text-card-foreground shadow-sm overflow-hidden h-full flex flex-col transition-all duration-200 hover:shadow-lg">
      
      {/* Imagem */}
      <div className="relative aspect-[2/3] overflow-hidden">
        <img
          alt={movie.title}
          loading="lazy"
          decoding="async"
          className="object-cover transition-transform duration-300 hover:scale-105"
          src={movie.image}
          style={{ position: 'absolute', height: '100%', width: '100%', inset: 0 }}
        />
        <div className="absolute top-2 right-2 flex flex-col gap-1 items-end">
          <div className="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold bg-blue-500 text-white bg-opacity-80 backdrop-blur-sm">
            <svg className="w-3 h-3 mr-1" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">
              <path d="M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z" />
              <path d="M15 3v4a2 2 0 0 0 2 2h4" />
            </svg>
            Notes
          </div>
        </div>
      </div>

      <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 bg-yellow-500 text-white bg-opacity-80 backdrop-blur-sm"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star w-3 h-3 mr-1 fill-white"><path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path></svg>4/5</div>

      {/* Conteúdo */}
      <div className="flex-grow p-4">
        <h2 className="text-lg font-bold mb-1 line-clamp-1">{movie.title}</h2>
        <div className="text-sm text-gray-500 dark:text-gray-400 mb-2">
          <p>{movie.year} • {movie.duration}</p>
        </div>

        <div className="flex items-center mb-2">
          <svg className="w-4 h-4 text-yellow-500 fill-yellow-500 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z" />
          </svg>
          <span className="text-sm font-medium">{movie.rating}%</span>
          <div className="ml-auto flex items-center">
            <span className="text-xs text-gray-400 italic">{movie.classification || 'Not rated'}</span>
          </div>
        </div>

descrição
        <div className="mb-2">
          <p className="text-sm line-clamp-3">{movie.description}</p>
          <button className="inline-flex items-center justify-center gap-2 text-xs text-gray-500 hover:text-gray-700 mt-1">
            <svg className="w-3 h-3 mr-1" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">
              <path d="m6 9 6 6 6-6" />
            </svg>
            Read More
          </button>
        </div>


        <div className="text-xs text-gray-500 dark:text-gray-400">
          <p><span className="font-medium">Director:</span> {movie.director}</p>
          <p><span className="font-medium">Producer:</span> {movie.producer}</p>
        </div>

        {/* Notas do usuário */}
        <div className="mt-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md">
          <div className="flex items-center mb-1">
            <svg className="w-3 h-3 mr-1 text-blue-500" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">
              <path d="M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z" />
              <path d="M15 3v4a2 2 0 0 0 2 2h4" />
            </svg>
            <span className="text-xs font-medium text-blue-600 dark:text-blue-400">Your Notes:</span>
          </div>
          <p className="text-xs text-gray-600 dark:text-gray-300 line-clamp-2">{movie.notes || 'No notes yet'}</p>
        </div>
      </div>

      {/* Botões */}
      <div className="items-center p-4 pt-0 flex flex-wrap gap-2">
        <button className="inline-flex items-center justify-center gap-2 text-sm font-medium border h-9 rounded-md px-3 flex-1 hover:bg-accent hover:text-accent-foreground">
          <svg className="w-4 h-4 mr-1" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">
            <path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0" />
            <circle cx="12" cy="12" r="3" />
          </svg>
          Mark Watched
        </button>
        <button className="inline-flex items-center justify-center gap-2 text-sm font-medium border h-9 rounded-md px-3 flex-1 hover:bg-accent hover:text-accent-foreground">
          <svg className="w-4 h-4 mr-1" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">
            <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
          </svg>
          Add Favorite
        </button>
        <button className="inline-flex items-center justify-center gap-2 text-sm font-medium border h-9 rounded-md px-3 w-full mt-2 hover:bg-accent hover:text-accent-foreground">
          <svg className="w-4 h-4 mr-1" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">
            <path d="M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z" />
            <path d="M15 3v4a2 2 0 0 0 2 2h4" />
          </svg>
          Edit Notes
        </button>
      </div>
    </div>
  );
}